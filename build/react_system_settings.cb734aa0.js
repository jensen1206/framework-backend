/*! For license information please see react_system_settings.cb734aa0.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4641],{85990:(e,t,a)=>{var n=a(67294),r=a(20745),o=(a(41517),a(25728),a(60228),a(38077),a(96869),a(48324),a(5399),a(88052),a(76034),a(30050),a(21057),a(68932),a(51013),a(40739),a(69373),a(59903),a(59749),a(86544),a(79288),a(63975),a(84254),a(752),a(21694),a(76265),a(77049),a(89730),a(30024),a(12826),a(34284),a(64043),a(7409),a(73964),a(58373),a(66793),a(7629),a(77509),a(49693),a(70560),a(47522),a(93374),a(31555)),s=a(48178),l=a(22251),i=a(3052),c=a(34051),p=a(72178),m=a(18034);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function h(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:String(t)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b(e);if(t){var r=b(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,a)}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var y="72a9ff1c-8909-43c9-a7bf-471ad302aeb8",v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(h,e);var t,a,r,u=g(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=u.call(this,e)).props=e,t.state={},t}return t=h,(a=[{key:"render",value:function(){var e=this;return n.createElement(n.Fragment,null,systemSettings.manage_log?n.createElement(l.Z,{className:"shadow-sm mt-3"},n.createElement(l.Z.Header,{className:"bg-body-tertiary fs-5 text-bod py-3 align-items-center d-flex flex-wrap"},n.createElement("div",null,n.createElement("i",{className:"bi bi-collection me-2"}),trans.system["Log settings"]),n.createElement("div",{className:"ms-auto"},n.createElement("div",{className:"ajax-spinner text-muted ".concat(this.props.spinner.showAjaxWait?"wait":"")}),n.createElement("small",null,n.createElement(m.Z,{status:this.props.spinner.ajaxStatus,msg:this.props.spinner.ajaxMsg})))),n.createElement(i.Z,null,n.createElement(c.Z,{className:"g-3"},n.createElement(o.Z,{xs:12,xl:3,lg:4,md:6},n.createElement(p.Z.Check,{type:"checkbox",id:(0,s.Z)("checkLogin",y),checked:this.props.log.login||!1,onChange:function(t){return e.props.onChangeLogSettings(t.target.checked,"login")},label:trans.log.Login}),n.createElement(p.Z.Check,{type:"checkbox",id:(0,s.Z)("checkLoginError",y),checked:this.props.log.login_error||!1,onChange:function(t){return e.props.onChangeLogSettings(t.target.checked,"login_error")},label:trans.log["Login error"]}),n.createElement(p.Z.Check,{type:"checkbox",id:(0,s.Z)("checkLogout",y),checked:this.props.log.logout||!1,onChange:function(t){return e.props.onChangeLogSettings(t.target.checked,"logout")},label:trans.Logout})),n.createElement(o.Z,{xs:12,xl:3,lg:4,md:6},n.createElement(p.Z.Check,{type:"checkbox",id:(0,s.Z)("checkRegister",y),checked:this.props.log.register||!1,onChange:function(t){return e.props.onChangeLogSettings(t.target.checked,"register")},label:trans.log.Register}),n.createElement(p.Z.Check,{type:"checkbox",id:(0,s.Z)("passwordForgot",y),checked:this.props.log.forgot_password||!1,onChange:function(t){return e.props.onChangeLogSettings(t.target.checked,"forgot_password")},label:trans.log["Forgotten password"]}),n.createElement(p.Z.Check,{type:"checkbox",id:(0,s.Z)("passwordChange",y),checked:this.props.log.password_change||!1,onChange:function(t){return e.props.onChangeLogSettings(t.target.checked,"password_change")},label:trans.log["Password changed"]})),n.createElement(o.Z,{xs:12,xl:3,lg:4,md:6},n.createElement(p.Z.Check,{type:"checkbox",id:(0,s.Z)("accountActivated",y),checked:this.props.log.account_activated||!1,onChange:function(t){return e.props.onChangeLogSettings(t.target.checked,"account_activated")},label:trans.log["Account activated"]}),n.createElement(p.Z.Check,{type:"checkbox",id:(0,s.Z)("accountDeactivated",y),checked:this.props.log.account_deactivated||!1,onChange:function(t){return e.props.onChangeLogSettings(t.target.checked,"account_deactivated")},label:trans.log["Account deactivated"]}),n.createElement(p.Z.Check,{type:"checkbox",id:(0,s.Z)("accountDeleted",y),checked:this.props.log.account_deleted||!1,onChange:function(t){return e.props.onChangeLogSettings(t.target.checked,"account_deleted")},label:trans.log["Account deleted"]})),n.createElement(o.Z,{xs:12,xl:3,lg:4,md:6},n.createElement(p.Z.Check,{type:"checkbox",id:(0,s.Z)("backupCreated",y),checked:this.props.log.backup_created||!1,onChange:function(t){return e.props.onChangeLogSettings(t.target.checked,"backup_created")},label:trans.log["Backup created"]}),n.createElement(p.Z.Check,{type:"checkbox",id:(0,s.Z)("backupDeleted",y),checked:this.props.log.backup_deleted||!1,onChange:function(t){return e.props.onChangeLogSettings(t.target.checked,"backup_deleted")},label:trans.log["Backup deleted"]}),n.createElement(p.Z.Check,{type:"checkbox",id:(0,s.Z)("emailSend",y),checked:this.props.log.email_send||!1,onChange:function(t){return e.props.onChangeLogSettings(t.target.checked,"email_send")},label:trans.log["E-mail sent"]}))))):"")}}])&&d(t.prototype,a),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),h}(n.Component),E=(a(50886),a(74119)),x=a(52939);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function S(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function _(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:String(t)}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=C(e);if(t){var r=C(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return function(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,a)}}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var Z="81a8bea8-bc53-11ee-a675-325096b39f47",j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(d,e);var t,a,r,u=k(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=u.call(this,e)).props=e,t.state={didUpdateManager:!1,fileManagerShow:!1,selectedImage:"",fmOptions:{multiSelect:!1,maxSelect:1,fmTitle:trans.app["Select image"],fmButtonTxt:trans.app["Insert image"]}},t}return t=d,(a=[{key:"render",value:function(){var e=this;return n.createElement(n.Fragment,null,systemSettings.manage_app?n.createElement(l.Z,{className:"shadow-sm mt-3"},n.createElement(l.Z.Header,{className:"bg-body-tertiary fs-5 text-bod py-3 align-items-center d-flex flex-wrap"},n.createElement("div",null,n.createElement("i",{className:"bi bi-view-list me-2"}),trans.app["App settings"]),n.createElement("div",{className:"ms-auto"},n.createElement("div",{className:"ajax-spinner text-muted ".concat(this.props.spinner.showAjaxWait?"wait":"")}),n.createElement("small",null,n.createElement(m.Z,{status:this.props.spinner.ajaxStatus,msg:this.props.spinner.ajaxMsg})))),n.createElement(i.Z,null,n.createElement(p.Z,null,n.createElement(x.Z,{in:this.props.colStart},n.createElement("div",{id:(0,s.Z)("collapseAppSettingsStart",Z)},n.createElement(c.Z,{className:"g-2"},n.createElement(o.Z,{xs:12,xl:6},n.createElement(E.Z,{controlId:(0,s.Z)("siteName",Z),label:"".concat(trans.app["Page title"]," *")},n.createElement(p.Z.Control,{className:"no-blur",value:this.props.app.site_name||"",onChange:function(t){return e.props.onChangeAppSettings(t.target.value,"site_name")},"aria-required":!0,required:!0,type:"text",placeholder:trans.app["Page title"]}))),n.createElement(o.Z,{xs:12,xl:6},n.createElement(E.Z,{controlId:(0,s.Z)("adminEmail",Z),label:"".concat(trans.app["Administrator e-mail address"]," *")},n.createElement(p.Z.Control,{className:"no-blur",value:this.props.app.admin_email||"",onChange:function(t){return e.props.onChangeAppSettings(t.target.value,"admin_email")},"aria-required":!0,required:!0,type:"email",placeholder:trans.app["Administrator e-mail address"]}))),n.createElement(o.Z,{xs:12},n.createElement("div",{className:"d-flex flex-wrap"},n.createElement(p.Z.Check,{type:"switch",className:"no-blur mt-3",id:(0,s.Z)("htmlMinimiseActive",Z),checked:this.props.app.html_minimise||!1,onChange:function(t){return e.props.onChangeAppSettings(t.target.checked,"html_minimise")},label:trans.app["Minimise HTML"]}),this.props.su||systemSettings.manage_backup?n.createElement(p.Z.Check,{type:"switch",className:"no-blur ms-lg-4 mt-3",id:(0,s.Z)("exportVendor",Z),checked:this.props.app.export_vendor||!1,onChange:function(t){return e.props.onChangeAppSettings(t.target.checked,"export_vendor")},label:trans.app["Export vendor archive"]}):"")),this.props.su||systemSettings.manage_worker?n.createElement(o.Z,{xs:12},n.createElement("hr",null),n.createElement("div",{className:"d-flex flex-wrap"},this.props.su?n.createElement("button",{onClick:function(){return e.props.onToggleCollapseSettings("def")},type:"button",className:"btn btn-switch-blue dark me-2 mt-2 btn-sm"},trans.system["Default authorisations"]):"",systemSettings.manage_worker?n.createElement("div",{className:"ms-lg-auto"},n.createElement("button",{onClick:function(){return e.props.onUpdateWorker("restart")},type:"button",className:"btn btn-warning-custom dark me-2 mt-2 btn-sm"},trans.app["Restart worker"]),n.createElement("button",{onClick:function(){return e.props.onUpdateWorker("stop")},type:"button",className:"btn btn-danger dark  mt-2 btn-sm"},trans.app["Stop worker"])):"")):"",n.createElement(o.Z,{xs:12},n.createElement("hr",null),n.createElement("div",{className:"fs-5 ms-2"},trans.app["Data protection"]),n.createElement("hr",null)),n.createElement(o.Z,{xs:12,lg:6,xl:4},n.createElement(E.Z,{controlId:(0,s.Z)("privacyPage",Z),label:"".concat(trans.app["Privacy page"])},n.createElement(p.Z.Select,{required:!1,className:"no-blur",value:this.props.app.privacy_page_route||"",onChange:function(t){return e.props.onChangeAppSettings(t.currentTarget.value,"privacy_page_route")},"aria-label":trans.app["Privacy page"]},n.createElement("option",{value:""},trans.system.select),this.props.pageSelect.map((function(e,t){return n.createElement("option",{value:e.url,key:t},e.label)}))))),n.createElement(o.Z,{xs:12,lg:6,xl:4},n.createElement(E.Z,{controlId:(0,s.Z)("imprintPage",Z),label:"".concat(trans.app["Imprint page"])},n.createElement(p.Z.Select,{required:!1,className:"no-blur",value:this.props.app.imprint_page_route||"",onChange:function(t){return e.props.onChangeAppSettings(t.currentTarget.value,"imprint_page_route")},"aria-label":trans.app["Imprint page"]},n.createElement("option",{value:""},trans.system.select),this.props.pageSelect.map((function(e,t){return n.createElement("option",{value:e.url,key:t},e.label)}))))),n.createElement(o.Z,{xs:12,lg:6,xl:4},n.createElement(E.Z,{controlId:(0,s.Z)("agbPage",Z),label:"".concat(trans.app["Terms and conditions page"])},n.createElement(p.Z.Select,{required:!1,className:"no-blur",value:this.props.app.agb_page_route||"",onChange:function(t){return e.props.onChangeAppSettings(t.currentTarget.value,"agb_page_route")},"aria-label":trans.app["Terms and conditions page"]},n.createElement("option",{value:""},trans.system.select),this.props.pageSelect.map((function(e,t){return n.createElement("option",{value:e.url,key:t},e.label)}))))),n.createElement(o.Z,{xs:12},n.createElement("hr",null),n.createElement("div",{className:"fs-5 ms-2"},trans.app["Media library"]),n.createElement("hr",null)),n.createElement(o.Z,{xs:12},n.createElement(p.Z.Check,{type:"switch",className:"no-blur mb-1",id:(0,s.Z)("gmapsActive",Z),checked:this.props.app.gmaps_active||!1,onChange:function(t){return e.props.onChangeAppSettings(t.target.checked,"gmaps_active")},label:trans.app["Google Maps active"]})),n.createElement(o.Z,{xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("allowedTypes",Z),label:"".concat(trans.system["Allowed file types"])},n.createElement(p.Z.Control,{className:"no-blur",value:this.props.app.upload_types||"",onChange:function(t){return e.props.onChangeAppSettings(t.target.value,"upload_types")},"aria-required":!1,required:!1,as:"textarea",style:{height:"100px"},placeholder:trans.system["Allowed file types"]})),n.createElement("div",{className:"form-text"},trans.system["Enter only extension without dot. Separate with a comma or semicolon."]))))),this.props.su?n.createElement(x.Z,{in:this.props.colDef},n.createElement("div",{id:(0,s.Z)("collapseAppSettingsDefault",Z)},n.createElement("button",{onClick:function(){return e.props.onToggleCollapseSettings("start")},type:"button",className:"btn btn-switch-blue dark btn-sm"},n.createElement("i",{className:"bi bi-reply-all  me-2"}),trans.back),n.createElement("hr",null),n.createElement("div",{className:"fs-5 mb-2"},n.createElement("span",{className:"fw-light"},trans.system["Default authorisations"])," ",trans.Admin),this.props.app&&this.props.app.default_admin_voter?n.createElement(n.Fragment,null,n.createElement("div",{className:"bg-body-tertiary p-3 rounded border"},n.createElement("div",{className:"fs-5 "},trans.system["Account authorisations"]),n.createElement("hr",null),n.createElement("div",{className:"d-flex flex-wrap align-items-center"},this.props.app.default_admin_voter.map((function(t,a){return n.createElement("div",{key:a,className:"".concat("user"===t.section?"col-xl-3 col-lg-4 col-md-6":"")},"user"===t.section?n.createElement(n.Fragment,null,t.label,n.createElement(p.Z.Check,{type:"switch",className:"no-blur mb-3",checked:t.default||!1,onChange:function(a){return e.props.onUpdateVoter(a.target.checked,t.id,"admin")},id:t.id,label:trans.active})):"")}))),n.createElement("hr",{className:"mt-0"}),n.createElement("div",{className:"fs-5 mb-2"},trans.system["Page menu"]),n.createElement("div",{className:"d-flex flex-wrap align-items-center"},this.props.app.default_admin_voter.map((function(t,a){return n.createElement("div",{key:a,className:"".concat("menu"===t.section?"col-xl-3 col-lg-4 col-md-6":"")},"menu"===t.section?n.createElement(n.Fragment,null,t.label,n.createElement(p.Z.Check,{type:"switch",className:"no-blur mb-3",checked:t.default||!1,onChange:function(a){return e.props.onUpdateVoter(a.target.checked,t.id,"admin")},id:t.id,label:trans.active})):"")}))),n.createElement("hr",{className:"mt-0"}),n.createElement("div",{className:"fs-5 mb-2"},trans.system["Page settings"]),n.createElement("div",{className:"d-flex flex-wrap align-items-center"},this.props.app.default_admin_voter.map((function(t,a){return n.createElement("div",{key:a,className:"".concat("page"===t.section?"col-xl-3 col-lg-4 col-md-6":"")},"page"===t.section?n.createElement(n.Fragment,null,t.label,n.createElement(p.Z.Check,{type:"switch",className:"no-blur mb-3",checked:t.default||"",onChange:function(a){return e.props.onUpdateVoter(a.target.checked,t.id,"admin")},id:t.id,label:trans.active})):"")}))),n.createElement("hr",{className:"mt-0"}),n.createElement("div",{className:"fs-5 mb-2"},trans.builder["Design settings"]),n.createElement("div",{className:"d-flex flex-wrap align-items-center"},this.props.app.default_admin_voter.map((function(t,a){return n.createElement("div",{key:a,className:"".concat("design"===t.section?"col-xl-3 col-lg-4 col-md-6":"")},"design"===t.section?n.createElement(n.Fragment,null,t.label,n.createElement(p.Z.Check,{type:"switch",className:"no-blur mb-3",checked:t.default||!1,onChange:function(a){return e.props.onUpdateVoter(a.target.checked,t.id,"admin")},id:t.id,label:trans.active})):"")}))),n.createElement("hr",{className:"mt-0"}),n.createElement("div",{className:"fs-5 mb-2"},trans.posts.Posts),n.createElement("div",{className:"d-flex flex-wrap align-items-center"},this.props.app.default_admin_voter.map((function(t,a){return n.createElement("div",{key:a,className:"".concat("posts"===t.section?"col-xl-3 col-lg-4 col-md-6":"")},"posts"===t.section?n.createElement(n.Fragment,null,t.label,n.createElement(p.Z.Check,{type:"switch",className:"no-blur mb-3",checked:t.default||!1,onChange:function(a){return e.props.onUpdateVoter(a.target.checked,t.id,"admin")},id:t.id,label:trans.active})):"")}))),n.createElement("hr",{className:"mt-0"}),n.createElement("div",{className:"fs-5 mb-2"},trans.forms.Forms),n.createElement("div",{className:"d-flex flex-wrap align-items-center"},this.props.app.default_admin_voter.map((function(t,a){return n.createElement("div",{key:a,className:"".concat("forms"===t.section?"col-xl-3 col-lg-4 col-md-6":"")},"forms"===t.section?n.createElement(n.Fragment,null,t.label,n.createElement(p.Z.Check,{type:"switch",className:"no-blur mb-3",checked:t.default||!1,onChange:function(a){return e.props.onUpdateVoter(a.target.checked,t.id,"admin")},id:t.id,label:trans.active})):"")}))),n.createElement("hr",{className:"mt-0"}),n.createElement("div",{className:"fs-5 mb-2"},trans.Tools),n.createElement("div",{className:"d-flex flex-wrap align-items-center"},this.props.app.default_admin_voter.map((function(t,a){return n.createElement("div",{key:a,className:"".concat("tools"===t.section?"col-xl-3 col-lg-4 col-md-6":"")},"tools"===t.section?n.createElement(n.Fragment,null,t.label,n.createElement(p.Z.Check,{type:"switch",className:"no-blur mb-3",checked:t.default||!1,onChange:function(a){return e.props.onUpdateVoter(a.target.checked,t.id,"admin")},id:t.id,label:trans.active})):"")}))),n.createElement("hr",{className:"mt-0"}),n.createElement("div",{className:"fs-5 mb-2"},trans.system["E-mail authorisations"]),n.createElement("div",{className:"d-flex flex-wrap align-items-center"},this.props.app.default_admin_voter.map((function(t,a){return n.createElement("div",{key:a,className:"".concat("email"===t.section?"col-xl-3 col-lg-4 col-md-6":"")},"email"===t.section?n.createElement(n.Fragment,null,t.label,n.createElement(p.Z.Check,{type:"switch",className:"no-blur mb-3",checked:t.default||!1,onChange:function(a){return e.props.onUpdateVoter(a.target.checked,t.id,"admin")},id:t.id,label:trans.active})):"")}))),n.createElement("hr",{className:"mt-0"}),n.createElement("div",{className:"fs-5 mb-2"},trans.system["API authorisations"]),n.createElement("div",{className:"d-flex flex-wrap align-items-center"},this.props.app.default_admin_voter.map((function(t,a){return n.createElement("div",{key:a,className:"".concat("api"===t.section?"col-xl-3 col-lg-4 col-md-6":"")},"api"===t.section?n.createElement(n.Fragment,null,t.label,n.createElement(p.Z.Check,{type:"switch",className:"no-blur mb-3",checked:t.default||!1,onChange:function(a){return e.props.onUpdateVoter(a.target.checked,t.id,"admin")},id:t.id,label:trans.active})):"")}))),n.createElement("hr",{className:"mt-0"}),n.createElement("div",{className:"fs-5 mb-2"},trans.system["System settings"]),n.createElement("div",{className:"d-flex flex-wrap align-items-center"},this.props.app.default_admin_voter.map((function(t,a){return n.createElement("div",{key:a,className:"".concat("log"===t.section?"col-xl-3 col-lg-4 col-md-6":"")},"log"===t.section?n.createElement(n.Fragment,null,t.label,n.createElement(p.Z.Check,{type:"switch",className:"no-blur mb-3",checked:t.default||!1,onChange:function(a){return e.props.onUpdateVoter(a.target.checked,t.id,"admin")},id:t.id,label:trans.active})):"")}))),n.createElement("hr",{className:"mt-0"}),n.createElement("div",{className:"fs-5 mb-2"},trans.system["System backups"]),n.createElement("div",{className:"d-flex flex-wrap align-items-center"},this.props.app.default_admin_voter.map((function(t,a){return n.createElement("div",{key:a,className:"".concat("backup"===t.section?"col-xl-3 col-lg-4 col-md-6":"")},"backup"===t.section?n.createElement(n.Fragment,null,t.label,n.createElement(p.Z.Check,{type:"switch",className:"no-blur mb-3",checked:t.default||!1,onChange:function(a){return e.props.onUpdateVoter(a.target.checked,t.id,"admin")},id:t.id,label:trans.active})):"")}))),n.createElement("hr",{className:"mt-0"}),n.createElement("div",{className:"fs-5 mb-2"},trans.system["Media library authorisations"]),n.createElement("div",{className:"d-flex flex-wrap align-items-center"},this.props.app.default_admin_voter.map((function(t,a){return n.createElement("div",{key:a,className:"".concat("media"===t.section?"col-xl-3 col-lg-4 col-md-6":"")},"media"===t.section?n.createElement(n.Fragment,null,t.label,n.createElement(p.Z.Check,{type:"switch",className:"no-blur mb-3",checked:t.default||!1,onChange:function(a){return e.props.onUpdateVoter(a.target.checked,t.id,"admin")},id:t.id,label:trans.active})):"")})))),n.createElement("div",{className:"fs-5 mt-3 mb-2"},n.createElement("span",{className:"fw-light"},trans.system["Default authorisations"])," ",trans.User),n.createElement("div",{className:"bg-body-tertiary p-3 rounded border"},n.createElement("div",{className:"fs-5 mb-2"},trans.system["Account authorisations"]),n.createElement("hr",null),n.createElement("div",{className:"d-flex flex-wrap align-items-center"},this.props.app.default_user_voter.map((function(t,a){return n.createElement("div",{key:a,className:"".concat("user"===t.section?"col-xl-3 col-lg-4 col-md-6":"")},"user"===t.section?n.createElement(n.Fragment,null,t.label,n.createElement(p.Z.Check,{type:"switch",className:"no-blur mb-3",checked:t.default||!1,onChange:function(a){return e.props.onUpdateVoter(a.target.checked,t.id,"user")},id:t.id,label:trans.active})):"")}))),n.createElement("hr",{className:"mt-0"}),n.createElement("div",{className:"fs-5 mb-2"},trans.system["Media library authorisations"]),n.createElement("div",{className:"d-flex flex-wrap align-items-center"},this.props.app.default_user_voter.map((function(t,a){return n.createElement("div",{key:a,className:"".concat("media"===t.section?"col-xl-3 col-lg-4 col-md-6":"")},"media"===t.section?n.createElement(n.Fragment,null,t.label,n.createElement(p.Z.Check,{type:"switch",className:"no-blur mb-3",checked:t.default||!1,onChange:function(a){return e.props.onUpdateVoter(a.target.checked,t.id,"user")},id:t.id,label:trans.active})):"")}))))):"")):""))):"",systemSettings.manage_scss?n.createElement(n.Fragment,null,n.createElement(l.Z,{className:"shadow-sm mt-3"},n.createElement(l.Z.Header,{className:"bg-body-tertiary fs-5 text-bod py-3 align-items-center d-flex flex-wrap"},n.createElement("div",null,n.createElement("i",{className:"bi bi-view-list me-2"}),trans.scss["SCSS Compiler Settings"]),n.createElement("div",{className:"ms-auto"},n.createElement("div",{className:"ajax-spinner text-muted ".concat(this.props.spinner.showAjaxWait?"wait":"")}),n.createElement("small",null,n.createElement(m.Z,{status:this.props.spinner.ajaxStatus,msg:this.props.spinner.ajaxMsg})))),n.createElement(i.Z,null,n.createElement(c.Z,{className:"g-2"},n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("scssSrc",Z),label:"".concat(trans.scss["SCSS Location"])},n.createElement(p.Z.Control,{className:"no-blur",value:this.props.app.scss_source_file||"",onChange:function(t){return e.props.onChangeAppSettings(t.target.value,"scss_source_file")},"aria-required":!1,required:!0,type:"text",placeholder:trans.scss["SCSS Location"]}))),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("cssSrc",Z),label:"".concat(trans.scss["CSS Location"])},n.createElement(p.Z.Control,{className:"no-blur",value:this.props.app.scss_destination_file||"",onChange:function(t){return e.props.onChangeAppSettings(t.target.value,"scss_destination_file")},"aria-required":!1,required:!0,type:"text",placeholder:trans.scss["CSS Location"]}))),n.createElement(o.Z,{xs:12},n.createElement("div",{className:"d-flex align-items-center flex-wrap mb-2"},n.createElement(p.Z.Check,{type:"switch",className:"no-blur my-1 me-4",checked:this.props.app.scss_cache_active||!1,onChange:function(t){return e.props.onChangeAppSettings(t.target.checked,"scss_cache_active")},id:(0,s.Z)("scssCacheActive",Z),label:trans.scss["Cache active"]}),n.createElement(p.Z.Check,{type:"switch",className:"no-blur my-1 me-4",checked:this.props.app.scss_map_active||!1,onChange:function(t){return e.props.onChangeAppSettings(t.target.checked,"scss_map_active")},id:(0,s.Z)("scssSourceMapActive",Z),label:trans.scss["Create source map"]}),n.createElement(p.Z.Check,{type:"switch",className:"no-blur my-1",checked:this.props.app.scss_by_login_active||!1,onChange:function(t){return e.props.onChangeAppSettings(t.target.checked,"scss_by_login_active")},id:(0,s.Z)("scssByLoginActive",Z),label:trans.scss["Compiler only active at login"]}))),n.createElement(o.Z,{xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("cacheUri",Z),label:"".concat(trans.scss["Cache path"])},n.createElement(p.Z.Control,{className:"no-blur",value:this.props.app.scss_cache_dir||"",onChange:function(t){return e.props.onChangeAppSettings(t.target.value,"scss_cache_dir")},"aria-required":!1,required:!0,disabled:!this.props.app.scss_cache_active,type:"text",placeholder:trans.scss["Cache path"]}))),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("selectScssOutput",Z),label:"".concat(trans.scss.Output)},n.createElement(p.Z.Select,{required:!1,className:"no-blur",value:this.props.app.scss_map_output||"",onChange:function(t){return e.props.onChangeAppSettings(t.currentTarget.value,"scss_map_output")},"aria-label":trans.scss.Output},n.createElement("option",{value:"expanded"},"expanded"),n.createElement("option",{value:"compressed"},"compressed")))),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("selectScssOptionen",Z),label:"".concat(trans.scss["Source map options"])},n.createElement(p.Z.Select,{required:!1,className:"no-blur",disabled:!this.props.app.scss_map_active,value:this.props.app.scss_map_option||"",onChange:function(t){return e.props.onChangeAppSettings(t.currentTarget.value,"scss_map_option")},"aria-label":trans.scss["Source map options"]},n.createElement("option",{value:"map_file"},"File"),n.createElement("option",{value:"map_inline"},"Inline")))))))):"")}}])&&S(t.prototype,a),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(n.Component),O=(a(34338),a(59287));function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function P(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T(n.key),n)}}function T(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:String(t)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=U(e);if(t){var r=U(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return function(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}(this,a)}}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}var R="81a8bea8-bc53-11ee-a675-325096b39f47",D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(d,e);var t,a,r,u=L(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=u.call(this,e)).props=e,t.state={didUpdateManager:!1,fileManagerShow:!1,selectedImage:"",fmOptions:{multiSelect:!1,maxSelect:1,fmTitle:trans.app["Select image"],fmButtonTxt:trans.app["Insert image"]}},t.fileManagerDidUpdate=t.fileManagerDidUpdate.bind(M(t)),t.setFileManagerShow=t.setFileManagerShow.bind(M(t)),t.fileManagerCallback=t.fileManagerCallback.bind(M(t)),t.onSetAppImage=t.onSetAppImage.bind(M(t)),t}return t=d,(a=[{key:"fileManagerDidUpdate",value:function(e){this.setState({didUpdateManager:e})}},{key:"setFileManagerShow",value:function(e){this.setState({fileManagerShow:e})}},{key:"fileManagerCallback",value:function(e){e.length&&(this.props.onChangeAppSettings(e[0].fileName,this.state.selectedImage),this.setState({selectedImage:""}))}},{key:"onSetAppImage",value:function(e){this.setState({selectedImage:e,didUpdateManager:!0,fileManagerShow:!0})}},{key:"render",value:function(){var e=this;return n.createElement(n.Fragment,null,systemSettings.manage_app?n.createElement(l.Z,{className:"shadow-sm mt-3"},n.createElement(l.Z.Header,{className:"bg-body-tertiary fs-5 text-bod py-3 align-items-center d-flex flex-wrap"},n.createElement("div",null,n.createElement("i",{className:"bi bi-image me-2"}),trans.app["App Logos"]),n.createElement("div",{className:"ms-auto"},n.createElement("div",{className:"ajax-spinner text-muted ".concat(this.props.spinner.showAjaxWait?"wait":"")}),n.createElement("small",null,n.createElement(m.Z,{status:this.props.spinner.ajaxStatus,msg:this.props.spinner.ajaxMsg})))),n.createElement(i.Z,null,n.createElement(c.Z,{className:"g-3"},n.createElement(o.Z,{xl:4,sm:6,xs:12,className:"text-center mx-auto"},n.createElement("div",{className:"my-2"},trans.app["E-mail signature logo"]),n.createElement("div",{className:"d-flex flex-column align-items-stretch"},this.props.app.signature_logo?n.createElement(n.Fragment,null,n.createElement("div",{style:{width:"150px",height:"150px"},className:"p-1 border rounded overflow-hidden d-flex mx-auto mb-3"},n.createElement("img",{style:{objectFit:"cover"},className:"rounded img-fluid",alt:trans.app["E-mail signature logo"],src:"".concat(publicSettings.thumb_url,"/").concat(this.props.app.signature_logo)})),n.createElement("div",{className:"mx-auto",style:{width:"200px"}},n.createElement(p.Z.Group,{className:"mb-2",controlId:(0,s.Z)("rangeLoginLogo",R)},n.createElement(p.Z.Label,{className:"mb-0"},trans.app["Image size"]," ",this.props.app.signature_logo_size||""," px"),n.createElement(p.Z.Range,{min:5,max:500,step:10,value:this.props.app.signature_logo_size||"",onChange:function(t){return e.props.onChangeAppSettings(t.target.value,"signature_logo_size")}})))):n.createElement("div",{className:"placeholder-account-image mb-3 p-1 border rounded mx-auto"}),n.createElement("div",{className:"mt-auto"},n.createElement("button",{onClick:function(){return e.onSetAppImage("signature_logo")},type:"button",className:"btn btn-switch-blue dark btn-sm"},this.props.app.signature_logo?trans.app["Change image"]:trans.app["Select image"]),this.props.app.signature_logo?n.createElement("button",{onClick:function(){return e.props.onChangeAppSettings("","signature_logo")},type:"button",className:"btn btn-danger ms-2 dark btn-sm"},trans.delete):""))),n.createElement(o.Z,{xl:4,sm:6,xs:12,className:"text-center mx-auto"},n.createElement("div",{className:"my-2"},trans.app["Dashboard Logo"]),n.createElement("div",{className:"d-flex flex-column align-items-stretch"},this.props.app.dashboard_logo?n.createElement(n.Fragment,null,n.createElement("div",{style:{width:"150px",height:"150px"},className:"p-1 border rounded overflow-hidden mx-auto mb-3"},n.createElement("img",{style:{objectFit:"cover"},className:"rounded img-fluid",alt:trans.app["Dashboard Logo"],src:"".concat(publicSettings.thumb_url,"/").concat(this.props.app.dashboard_logo)})),n.createElement("div",{className:"mx-auto",style:{width:"200px"}},n.createElement(p.Z.Group,{className:"mb-2",controlId:(0,s.Z)("rangeLoginLogo",R)},n.createElement(p.Z.Label,{className:"mb-0"},trans.app["Image size"]," ",this.props.app.dashboard_logo_size||""," px"),n.createElement(p.Z.Range,{min:5,max:500,step:10,value:this.props.app.dashboard_logo_size||"",onChange:function(t){return e.props.onChangeAppSettings(t.target.value,"dashboard_logo_size")}})))):n.createElement("div",{className:"placeholder-account-image mb-3 p-1 border rounded mx-auto"}),n.createElement("div",{className:"mt-auto"},n.createElement("button",{onClick:function(){return e.onSetAppImage("dashboard_logo")},type:"button",className:"btn btn-switch-blue dark btn-sm"},this.props.app.dashboard_logo?trans.app["Change image"]:trans.app["Select image"]),this.props.app.dashboard_logo?n.createElement("button",{onClick:function(){return e.props.onChangeAppSettings("","dashboard_logo")},type:"button",className:"btn btn-danger ms-2 dark btn-sm"},trans.delete):""))),n.createElement(o.Z,{xl:4,sm:6,xs:12,className:"text-center"},n.createElement("div",{className:"my-2"},trans.app["Login Logo"]),n.createElement("div",{className:"d-flex flex-column align-items-stretch"},this.props.app.login_logo?n.createElement(n.Fragment,null,n.createElement("div",{style:{width:"150px",height:"150px"},className:"p-1 border rounded overflow-hidden mx-auto mb-3"},n.createElement("img",{style:{objectFit:"cover"},className:"rounded img-fluid",alt:trans.app["Login Logo"],src:"".concat(publicSettings.thumb_url,"/").concat(this.props.app.login_logo)})),n.createElement("div",{className:"mx-auto",style:{width:"200px"}},n.createElement(p.Z.Group,{className:"mb-2",controlId:(0,s.Z)("rangeLoginLogo",R)},n.createElement(p.Z.Label,{className:"mb-0"},trans.app["Image size"]," ",this.props.app.login_logo_size||""," px"),n.createElement(p.Z.Range,{min:5,max:500,step:10,value:this.props.app.login_logo_size||"",onChange:function(t){return e.props.onChangeAppSettings(t.target.value,"login_logo_size")}})))):n.createElement("div",{className:"placeholder-account-image mb-3 p-1 border rounded mx-auto"}),n.createElement("div",{className:"mt-auto"},n.createElement("button",{onClick:function(){return e.onSetAppImage("login_logo")},type:"button",className:"btn btn-switch-blue dark btn-sm"},this.props.app.login_logo?trans.app["Change image"]:trans.app["Select image"]),this.props.app.login_logo?n.createElement("button",{onClick:function(){return e.props.onChangeAppSettings("","login_logo")},type:"button",className:"btn btn-danger ms-2 dark btn-sm"},trans.delete):"")))))):"",n.createElement(O.Z,{didUpdateManager:this.state.didUpdateManager,fileManagerShow:this.state.fileManagerShow,options:this.state.fmOptions,fileManagerDidUpdate:this.fileManagerDidUpdate,setFileManagerShow:this.setFileManagerShow,fileManagerCallback:this.fileManagerCallback}))}}])&&P(t.prototype,a),r&&P(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(n.Component),F=a(3047),B=a(35005),K=a(74855);function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function V(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G(n.key),n)}}function G(e){var t=function(e,t){if("object"!=W(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==W(t)?t:String(t)}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=$(e);if(t){var r=$(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return function(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,a)}}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}var H="c9b6ddd4-bcf2-11ee-9e49-325096b39f47",J=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(d,e);var t,a,r,u=q(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=u.call(this,e)).props=e,t.state={showDefuseCopy:!1,showKidCopy:!1},t}return t=d,a=[{key:"onUpdateCopied",value:function(e){var t=this;switch(e){case"defuse":this.setState({showDefuseCopy:!0}),J(1500).then((function(){t.setState({showDefuseCopy:!1})}));break;case"kid":this.setState({showKidCopy:!0}),J(1500).then((function(){t.setState({showKidCopy:!1})}))}}},{key:"render",value:function(){var e=this;return n.createElement(n.Fragment,null,systemSettings.manage_oauth?n.createElement(l.Z,{className:"shadow-sm mt-3"},n.createElement(l.Z.Header,{className:"bg-body-tertiary fs-5 text-bod py-3 align-items-center d-flex flex-wrap"},n.createElement("div",null,n.createElement("i",{className:"bi bi-incognito me-2"}),trans.app["oAuth2 settings"]),n.createElement("div",{className:"ms-auto"},n.createElement("div",{className:"ajax-spinner text-muted ".concat(this.props.spinner.showAjaxWait?"wait":"")}),n.createElement("small",null,n.createElement(m.Z,{status:this.props.spinner.ajaxStatus,msg:this.props.spinner.ajaxMsg})))),n.createElement(i.Z,null,n.createElement(c.Z,{className:"g-2"},n.createElement(o.Z,{xs:12,className:"mb-3"},n.createElement("div",{className:"fs-5 mb-2"},trans.app["Properties of the JSON web key set"],":"),n.createElement("small",{className:"text-muted fw-semibold small-lg d-block"},trans.app["Defuse Crypto Key"],":"),n.createElement("small",{className:"d-block small-lg text-muted"},this.props.oauth_config.encryption_key||""),n.createElement("small",{className:"text-muted fw-semibold mt-1 small-lg d-block"},trans.app.Scopes,":"),n.createElement("small",{className:"d-block small-lg text-muted"},"[",this.props.oauth_config.scopes||"","]")),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("alg",H),label:trans.app.alg},n.createElement(p.Z.Control,{className:"no-blur",defaultValue:this.props.oauth.jwks_alg||"",disabled:!0,type:"text",placeholder:trans.app.alg}))),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("kty",H),label:trans.app.kty},n.createElement(p.Z.Control,{className:"no-blur",defaultValue:this.props.oauth.jwks_kty||"",disabled:!0,type:"text",placeholder:trans.app.kty}))),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("use",H),label:trans.app.use},n.createElement(p.Z.Control,{className:"no-blur",defaultValue:this.props.oauth.jwks_use||"",disabled:!0,type:"text",placeholder:trans.app.use}))),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("x5t",H),label:trans.app.x5t},n.createElement(p.Z.Control,{className:"no-blur",defaultValue:this.props.oauth.jwks_x5t||"",disabled:!0,type:"text",placeholder:trans.app.x5t}))),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("defScopes",H),label:trans.app["Standard scope"]},n.createElement(p.Z.Control,{className:"no-blur",defaultValue:this.props.oauth_config.def_scopes||"",disabled:!0,type:"text",placeholder:trans.app["Standard scope"]}))),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("x5c",H),label:trans.app.x5c},n.createElement(p.Z.Control,{className:"no-blur",defaultValue:this.props.oauth.jwks_x5c||"",disabled:!0,type:"text",placeholder:trans.app.x5c}))),n.createElement(o.Z,{xs:12},n.createElement("hr",null),n.createElement("div",{className:"fs-5 fw-semibold"},trans.app.Certificates)),n.createElement(o.Z,{xxl:6,xl:8,xs:12},n.createElement(F.Z,null,n.createElement(p.Z.Select,{"aria-label":"select bitrate",className:"no-blur",value:this.props.certificate||"",onChange:function(t){return e.props.onChangeCertificate(t.target.value)}},n.createElement("option",{value:1024},"1024 bit"),n.createElement("option",{value:2048},"2048 bit"),n.createElement("option",{value:4096},"4096 bit")),n.createElement(B.Z,{onClick:function(){return e.props.onGenerateNewKeys("certificate")},role:"button",variant:"success-custom dark"},n.createElement("i",{className:"bi bi-key me-2"}),trans.app["Create new certificates"]))),n.createElement(o.Z,{xs:12},n.createElement("hr",null),n.createElement(B.Z,{onClick:function(){return e.props.onGenerateNewKeys("defuse_key")},variant:"switch-blue dark me-2 btn-sm"},n.createElement("i",{className:"bi bi-key me-2"}),trans.app["Generate Defuse Crypto Key"]),n.createElement(B.Z,{onClick:function(){return e.props.onGenerateNewKeys("kid")},variant:"warning-custom btn-sm"},n.createElement("i",{className:"bi bi-key me-2"}),trans.app["Generate kid key"])),n.createElement(o.Z,{xs:12},this.props.defuseKey||this.props.kidKey?n.createElement("hr",{className:"mb-1"}):"",this.props.defuseKey?n.createElement("div",{className:"mb-2 small text-muted fw-semibold"},trans.app["Defuse Crypto Key"],":",n.createElement("small",{className:"d-block fw-normal"},this.props.defuseKey),n.createElement("div",{className:"mt-2"},n.createElement("div",{className:"position-absolute- bottom-0 mb-2"},n.createElement(K.CopyToClipboard,{text:this.props.defuseKey,onCopy:function(){return e.onUpdateCopied("defuse")}},n.createElement("button",{className:"btn btn-secondary dark btn-sm"},n.createElement("i",{className:"bi bi-files me-2"}),trans.system.Copy)),n.createElement("span",{className:"small-lg copy-client copied position-absolute text-danger ms-2".concat(this.state.showDefuseCopy?" show-copied":"")}," ",trans.system["Copied!"]," ")))):"",this.props.kidKey?n.createElement("div",{className:"mb-2 small text-muted fw-semibold"},trans.app.kid,":",n.createElement("small",{className:"d-block fw-normal"},this.props.kidKey),n.createElement("div",{className:"mt-2"},n.createElement("div",{className:"position-absolute- bottom-0 mb-2"},n.createElement(K.CopyToClipboard,{text:this.props.kidKey,onCopy:function(){return e.onUpdateCopied("kid")}},n.createElement("button",{className:"btn btn-secondary dark btn-sm"},n.createElement("i",{className:"bi bi-files me-2"}),trans.system.Copy)),n.createElement("span",{className:"small-lg copy-client copied position-absolute text-danger ms-2".concat(this.state.showKidCopy?" show-copied":"")}," ",trans.system["Copied!"]," ")))):"",this.props.defuseKey||this.props.kidKey?n.createElement("hr",{className:"mt-1"}):"")))):"")}}],a&&V(t.prototype,a),r&&V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(n.Component);function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function X(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ee(n.key),n)}}function ee(e){var t=function(e,t){if("object"!=Q(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Q(t)?t:String(t)}function te(e,t){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},te(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=ne(e);if(t){var r=ne(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return function(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,a)}}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}var re="685b860b-08d3-473c-bd2b-e6c183a14e4c",oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}(d,e);var t,a,r,u=ae(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=u.call(this,e)).props=e,t.state={},t}return t=d,(a=[{key:"render",value:function(){var e=this;return n.createElement(n.Fragment,null,systemSettings.manage_email?n.createElement(l.Z,{className:"shadow-sm mt-3"},n.createElement(l.Z.Header,{className:"bg-body-tertiary fs-5 text-bod py-3 align-items-center d-flex flex-wrap"},n.createElement("div",null,n.createElement("i",{className:"bi bi-envelope-at me-2"}),trans.app["E-mail settings"]),n.createElement("div",{className:"ms-auto"},n.createElement("div",{className:"ajax-spinner text-muted ".concat(this.props.spinner.showAjaxWait?"wait":"")}),n.createElement("small",null,n.createElement(m.Z,{status:this.props.spinner.ajaxStatus,msg:this.props.spinner.ajaxMsg})))),n.createElement(i.Z,null,n.createElement(c.Z,{className:"g-2"},n.createElement(o.Z,{xs:12},n.createElement("div",{className:"d-flex align-items-center flex-wrap mb-2"},n.createElement(p.Z.Check,{className:"no-blur mb-1 me-4",type:"switch",id:(0,s.Z)("saveEmail",re),checked:this.props.email.email_save_active||!1,onChange:function(t){return e.props.onChangeEmailSettings(t.target.checked,"email_save_active")},label:trans.app["Save e-mail active"]}),n.createElement(p.Z.Check,{type:"switch",className:"no-blur mb-1 me-4",id:(0,s.Z)("asyncActive",re),checked:this.props.email.async_active||!1,onChange:function(t){return e.props.onChangeEmailSettings(t.target.checked,"async_active")},label:trans.app["Send e-mail asynchronously"]}),n.createElement(p.Z.Check,{type:"switch",className:"no-blur mb-1",id:(0,s.Z)("attachmentsActive",re),checked:this.props.email.attachment_active||!1,onChange:function(t){return e.props.onChangeEmailSettings(t.target.checked,"attachment_active")},label:trans.app["E-mail attachments active"]}))),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("absEmail",re),label:"".concat(trans.install["Sender e-mail"]," *")},n.createElement(p.Z.Control,{className:"no-blur",value:this.props.email.abs_email||"",onChange:function(t){return e.props.onChangeEmailSettings(t.target.value,"abs_email")},type:"email",placeholder:trans.install["Sender e-mail"]}))),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("absName",re),label:trans.install["Sender name"]},n.createElement(p.Z.Control,{className:"no-blur",value:this.props.email.abs_name||"",onChange:function(t){return e.props.onChangeEmailSettings(t.target.value,"abs_name")},type:"email",placeholder:trans.install["Sender name"]}))),n.createElement(o.Z,{xs:12},n.createElement("h6",{className:"my-3"}," ",trans.system["Email SMTP settings"])),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("smtpSchema",re),label:trans.install.Schema},n.createElement(p.Z.Control,{className:"no-blur",value:this.props.emailDsn.schema||"",onChange:function(t){return e.props.onChangeEmailDSNSettings(t.target.value,"schema")},type:"text",placeholder:trans.install.Schema}))),n.createElement(o.Z,{xl:6,xs:12}),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("smtpUser",re),label:trans.install["User name"]},n.createElement(p.Z.Control,{className:"no-blur",value:this.props.emailDsn.user||"",onChange:function(t){return e.props.onChangeEmailDSNSettings(t.target.value,"user")},type:"text",placeholder:trans.install["User name"]}))),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("smtpPw",re),label:trans.install.Password},n.createElement(p.Z.Control,{className:"no-blur",value:this.props.emailDsn.password||"",onChange:function(t){return e.props.onChangeEmailDSNSettings(t.target.value,"password")},type:"text",placeholder:trans.install.Password}))),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("smtpPort",re),label:trans.install.Port},n.createElement(p.Z.Control,{className:"no-blur",value:this.props.emailDsn.port||"",onChange:function(t){return e.props.onChangeEmailDSNSettings(t.target.value,"port")},type:"number",placeholder:trans.install.Port}))),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("smtpHost",re),label:trans.install.Hostname},n.createElement(p.Z.Control,{className:"no-blur",value:this.props.emailDsn.host||"",onChange:function(t){return e.props.onChangeEmailDSNSettings(t.target.value,"host")},type:"text",placeholder:trans.install.Hostname}))),n.createElement(o.Z,{xs:12},n.createElement("hr",null)),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("maxAttach",re),label:trans.app["Maximum number of attachments"]},n.createElement(p.Z.Control,{className:"no-blur",value:this.props.email.attachment_max_count||"",onChange:function(t){return e.props.onChangeEmailSettings(t.target.value,"attachment_max_count")},disabled:!this.props.email.attachment_active,type:"number",placeholder:trans.app["Maximum number of attachments"]}))),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("maxSize",re),label:trans.app["maximum file size (MB)"]},n.createElement(p.Z.Control,{className:"no-blur",value:this.props.email.attachment_max_size||"",onChange:function(t){return e.props.onChangeEmailSettings(t.target.value,"attachment_max_size")},disabled:!this.props.email.attachment_active,type:"number",placeholder:trans.app["maximum file size (MB)"]}))),n.createElement(o.Z,{xl:6,xs:12},n.createElement(E.Z,{controlId:(0,s.Z)("replyTo",re),label:trans.app.ReplyTo},n.createElement(p.Z.Control,{className:"no-blur",value:this.props.email.reply_to||"",onChange:function(t){return e.props.onChangeEmailSettings(t.target.value,"reply_to")},disabled:!1,type:"email",placeholder:trans.app.ReplyTo})))))):"")}}])&&X(t.prototype,a),r&&X(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(n.Component),se=a(71257),le=a(32657),ie=a(48481),ce=a(86455),pe=a.n(ce),me=a(77630);function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function de(){de=function(){return t};var e,t={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,a){return e[t]=a}}function p(e,t,a,n){var o=t&&t.prototype instanceof b?t:b,s=Object.create(o.prototype),l=new O(n||[]);return r(s,"_invoke",{value:k(e,a,l)}),s}function m(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var u="suspendedStart",d="suspendedYield",h="executing",f="completed",g={};function b(){}function y(){}function v(){}var E={};c(E,s,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(A([])));w&&w!==a&&n.call(w,s)&&(E=w);var S=v.prototype=b.prototype=Object.create(E);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function a(r,o,s,l){var i=m(e[r],e,o);if("throw"!==i.type){var c=i.arg,p=c.value;return p&&"object"==ue(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){a("next",e,s,l)}),(function(e){a("throw",e,s,l)})):t.resolve(p).then((function(e){c.value=e,s(c)}),(function(e){return a("throw",e,s,l)}))}l(i.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function k(t,a,n){var r=u;return function(o,s){if(r===h)throw new Error("Generator is already running");if(r===f){if("throw"===o)throw s;return{value:e,done:!0}}for(n.method=o,n.arg=s;;){var l=n.delegate;if(l){var i=C(l,n);if(i){if(i===g)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=m(t,a,n);if("normal"===c.type){if(r=n.done?f:d,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=f,n.method="throw",n.arg=c.arg)}}}function C(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,C(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=m(r,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,g;var s=o.arg;return s?s.done?(a[t.resultName]=s.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,g):s:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,g)}function Z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(Z,this),this.reset(!0)}function A(t){if(t||""===t){var a=t[s];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(ue(t)+" is not iterable")}return y.prototype=v,r(S,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=c(v,i,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,i,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(N.prototype),c(N.prototype,l,(function(){return this})),t.AsyncIterator=N,t.async=function(e,a,n,r,o){void 0===o&&(o=Promise);var s=new N(p(e,a,n,r),o);return t.isGeneratorFunction(a)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},_(S),c(S,i,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return l.type="throw",l.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],l=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var i=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(i&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(i){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;j(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:A(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function he(e,t,a,n,r,o,s){try{var l=e[o](s),i=l.value}catch(e){return void a(e)}l.done?t(i):Promise.resolve(i).then(n,r)}function fe(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ge(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function be(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ye(n.key),n)}}function ye(e){var t=function(e,t){if("object"!=ue(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ue(t)?t:String(t)}function ve(e,t){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ve(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=we(e);if(t){var r=we(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return function(e,t){if(t&&("object"===ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xe(e)}(this,a)}}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},we(e)}a.n(me)()(pe());var Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}(c,e);var t,a,r,s,l,i=Ee(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).props=e,t.formUpdTimeOut="",t.state={pageSelect:[],app:{},email:{},log:{},oauth:{},certificate:2048,oauth_config:{},version:"",colStart:!0,colDef:!1,defuseKey:"",kidKey:"",default_admin_voter:[],default_user_voter:[],emailDsn:{},su:!1,logSpinner:{showAjaxWait:!1,ajaxMsg:"",ajaxStatus:""},appSpinner:{showAjaxWait:!1,ajaxMsg:"",ajaxStatus:""},oauthSpinner:{showAjaxWait:!1,ajaxMsg:"",ajaxStatus:""},emailSpinner:{showAjaxWait:!1,ajaxMsg:"",ajaxStatus:""}},t.sendAxiosFormdata=t.sendAxiosFormdata.bind(xe(t)),t.onChangeLogSettings=t.onChangeLogSettings.bind(xe(t)),t.onChangeAppSettings=t.onChangeAppSettings.bind(xe(t)),t.onChangeOauthSettings=t.onChangeOauthSettings.bind(xe(t)),t.onChangeEmailSettings=t.onChangeEmailSettings.bind(xe(t)),t.onChangeEmailDSNSettings=t.onChangeEmailDSNSettings.bind(xe(t)),t.onChangeCertificate=t.onChangeCertificate.bind(xe(t)),t.getSettings=t.getSettings.bind(xe(t)),t.onGenerateNewKeys=t.onGenerateNewKeys.bind(xe(t)),t.onToggleCollapseSettings=t.onToggleCollapseSettings.bind(xe(t)),t.onUpdateVoter=t.onUpdateVoter.bind(xe(t)),t.onUpdateWorker=t.onUpdateWorker.bind(xe(t)),t.findArrayElementById=t.findArrayElementById.bind(xe(t)),t.filterArrayElementById=t.filterArrayElementById.bind(xe(t)),t}return t=c,a=[{key:"componentDidMount",value:function(){this.getSettings()}},{key:"findArrayElementById",value:function(e,t){return e.find((function(e){return e.id===t}))}},{key:"filterArrayElementById",value:function(e,t){return e.filter((function(e){return e.id!==t}))}},{key:"onToggleCollapseSettings",value:function(e){var t=!1,a=!1;switch(e){case"start":t=!0;break;case"def":a=!0}this.setState({colStart:t,colDef:a})}},{key:"getSettings",value:function(){this.sendAxiosFormdata({method:"get_system_settings"}).then()}},{key:"onGenerateNewKeys",value:function(e){var t,a=this;switch(e){case"certificate":var n={title:'<i class="bi bi-incognito me-1"></i> '.concat(trans.swal.Password),btn:trans.system.Execute};ie.nu(n).then((function(e){e&&(t={method:"generate_rsa",pw:e,bit:a.state.certificate},a.sendAxiosFormdata(t).then())}));break;case"defuse_key":t={method:"make_defuse_key"},this.sendAxiosFormdata(t).then();break;case"kid":t={method:"make_kid_key"},this.sendAxiosFormdata(t).then()}}},{key:"onChangeCertificate",value:function(e){this.setState({certificate:e})}},{key:"onChangeLogSettings",value:function(e,t){var a=this.state.log;a[t]=e,this.setState({log:a,logSpinner:{showAjaxWait:!0}});var n=this;clearTimeout(this.formUpdTimeOut),this.formUpdTimeOut=setTimeout((function(){var e={method:"log_settings_handle",log:JSON.stringify(n.state.log)};n.sendAxiosFormdata(e).then()}),1e3)}},{key:"onChangeAppSettings",value:function(e,t){var a=this.state.app;a[t]=e,this.setState({app:a,appSpinner:{showAjaxWait:!0}});var n=this;clearTimeout(this.formUpdTimeOut),this.formUpdTimeOut=setTimeout((function(){var e={method:"app_settings_handle",app:JSON.stringify(n.state.app)};n.sendAxiosFormdata(e).then()}),1e3)}},{key:"onChangeOauthSettings",value:function(e,t){var a=this.state.oauth;a[t]=e,this.setState({oauth:a,oauthSpinner:{showAjaxWait:!0}});var n=this;clearTimeout(this.formUpdTimeOut),this.formUpdTimeOut=setTimeout((function(){var e={method:"oauth_settings_handle",app:JSON.stringify(n.state.oauth)};n.sendAxiosFormdata(e).then()}),1e3)}},{key:"onChangeEmailSettings",value:function(e,t){var a=this.state.email;a[t]=e,this.setState({email:a,emailSpinner:{showAjaxWait:!0}});var n=this;clearTimeout(this.formUpdTimeOut),this.formUpdTimeOut=setTimeout((function(){var e={method:"email_settings_handle",email:JSON.stringify(n.state.email)};n.sendAxiosFormdata(e).then()}),1e3)}},{key:"onChangeEmailDSNSettings",value:function(e,t){var a=this.state.emailDsn;a[t]=e,this.setState({emailDsn:a,emailSpinner:{showAjaxWait:!0}});var n=this;clearTimeout(this.formUpdTimeOut),this.formUpdTimeOut=setTimeout((function(){var e={method:"email_dsn_handle",email:JSON.stringify(n.state.emailDsn)};n.sendAxiosFormdata(e).then()}),1e3)}},{key:"onUpdateVoter",value:function(e,t,a){if("admin"===a){var n=fe(this.state.app.default_admin_voter);this.findArrayElementById(n,t).default=e,this.state.app.default_admin_voter=n,this.setState({app:this.state.app,appSpinner:{showAjaxWait:!0}})}if("user"===a){var r=fe(this.state.app.default_user_voter);this.findArrayElementById(r,t).default=e,this.state.app.default_user_voter=r,this.setState({app:this.state.app,appSpinner:{showAjaxWait:!0}})}var o=this;clearTimeout(this.formUpdTimeOut),this.formUpdTimeOut=setTimeout((function(){var e={method:"app_settings_handle",app:JSON.stringify(o.state.app)};o.sendAxiosFormdata(e).then()}),1e3)}},{key:"onUpdateWorker",value:function(e){this.setState({appSpinner:{showAjaxWait:!0}});var t=this;clearTimeout(this.formUpdTimeOut),this.formUpdTimeOut=setTimeout((function(){var a={method:"worker_handle",handle:e};t.sendAxiosFormdata(a).then()}),1e3)}},{key:"sendAxiosFormdata",value:(s=de().mark((function e(t){var a,n,r=this,o=arguments;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.length>1&&void 0!==o[1]&&o[1],n=o.length>2&&void 0!==o[2]?o[2]:systemSettings.ajax_url,!t){e.next=5;break}return e.next=5,se.Z.post(n,(0,le.Z)(t,a,systemSettings)).then((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,t=void 0===e?{}:e;switch(t.type){case"get_system_settings":t.status&&r.setState({app:t.record.app,email:t.record.email,log:t.record.log,oauth:t.record.oauth,oauth_config:t.oauth_config,version:t.record.version,su:t.su,pageSelect:t.page_select,emailDsn:t.email_dsn}),r.onToggleCollapseSettings("start");break;case"log_settings_handle":r.setState({logSpinner:{showAjaxWait:!1,ajaxMsg:t.msg,ajaxStatus:t.status}});break;case"app_settings_handle":case"worker_handle":r.setState({appSpinner:{showAjaxWait:!1,ajaxMsg:t.msg,ajaxStatus:t.status}});break;case"oauth_settings_handle":r.setState({oauthSpinner:{showAjaxWait:!1,ajaxMsg:t.msg,ajaxStatus:t.status}});break;case"email_settings_handle":case"email_dsn_handle":r.setState({emailSpinner:{showAjaxWait:!1,ajaxMsg:t.msg,ajaxStatus:t.status}});break;case"generate_rsa":t.status?ie.N$(t.msg):ie.PE(t.msg);break;case"make_defuse_key":t.status?(r.setState({defuseKey:t.key}),ie.N$(t.msg)):ie.PE(t.msg);break;case"make_kid_key":ie.N$(t.msg),r.setState({kidKey:t.key})}})).catch((function(e){return console.error(e)}));case 5:case"end":return e.stop()}}),e)})),l=function(){var e=this,t=arguments;return new Promise((function(a,n){var r=s.apply(e,t);function o(e){he(r,a,n,o,l,"next",e)}function l(e){he(r,a,n,o,l,"throw",e)}o(void 0)}))},function(e){return l.apply(this,arguments)})},{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement("h3",{className:"fw-semibold text-body"},trans["System settings"],n.createElement("small",{className:"d-block fw-normal mt-2 text-secondary small-lg"},n.createElement("i",{className:"bi bi-caret-right me-1"}),trans.system["Basic settings"])),n.createElement("hr",null),n.createElement(o.Z,{xxl:9,xl:10,xs:12,className:"mx-auto"},n.createElement(j,{spinner:this.state.appSpinner,app:this.state.app,su:this.state.su,colStart:this.state.colStart,colDef:this.state.colDef,pageSelect:this.state.pageSelect,default_admin_voter:this.state.default_admin_voter,default_user_voter:this.state.default_user_voter,onChangeAppSettings:this.onChangeAppSettings,onToggleCollapseSettings:this.onToggleCollapseSettings,onUpdateVoter:this.onUpdateVoter,onUpdateWorker:this.onUpdateWorker}),n.createElement(oe,{email:this.state.email,spinner:this.state.emailSpinner,emailDsn:this.state.emailDsn,onChangeEmailSettings:this.onChangeEmailSettings,onChangeEmailDSNSettings:this.onChangeEmailDSNSettings}),n.createElement(Y,{spinner:this.state.oauthSpinner,oauth:this.state.oauth,oauth_config:this.state.oauth_config,certificate:this.state.certificate,defuseKey:this.state.defuseKey,kidKey:this.state.kidKey,onChangeOauthSettings:this.onChangeOauthSettings,onChangeCertificate:this.onChangeCertificate,onGenerateNewKeys:this.onGenerateNewKeys}),n.createElement(v,{spinner:this.state.logSpinner,log:this.state.log,onChangeLogSettings:this.onChangeLogSettings}),n.createElement(D,{spinner:this.state.appSpinner,app:this.state.app,onChangeAppSettings:this.onChangeAppSettings})))}}],a&&be(t.prototype,a),r&&be(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component),_e=document.getElementById("system-settings-app");r.createRoot(_e).render(n.createElement(Se,null))},22251:(e,t,a)=>{a.d(t,{Z:()=>Z});var n=a(44036),r=a.n(n),o=a(67294),s=a(76792),l=a(3052),i=a(85893);const c=o.forwardRef((({className:e,bsPrefix:t,as:a="div",...n},o)=>(t=(0,s.vE)(t,"card-footer"),(0,i.jsx)(a,{ref:o,className:r()(e,t),...n}))));c.displayName="CardFooter";const p=c;var m=a(88203);const u=o.forwardRef((({bsPrefix:e,className:t,variant:a,as:n="img",...o},l)=>{const c=(0,s.vE)(e,"card-img");return(0,i.jsx)(n,{ref:l,className:r()(a?`${c}-${a}`:c,t),...o})}));u.displayName="CardImg";const d=u,h=o.forwardRef((({className:e,bsPrefix:t,as:a="div",...n},o)=>(t=(0,s.vE)(t,"card-img-overlay"),(0,i.jsx)(a,{ref:o,className:r()(e,t),...n}))));h.displayName="CardImgOverlay";const f=h,g=o.forwardRef((({className:e,bsPrefix:t,as:a="a",...n},o)=>(t=(0,s.vE)(t,"card-link"),(0,i.jsx)(a,{ref:o,className:r()(e,t),...n}))));g.displayName="CardLink";const b=g;var y=a(39602);const v=(0,y.Z)("h6"),E=o.forwardRef((({className:e,bsPrefix:t,as:a=v,...n},o)=>(t=(0,s.vE)(t,"card-subtitle"),(0,i.jsx)(a,{ref:o,className:r()(e,t),...n}))));E.displayName="CardSubtitle";const x=E,w=o.forwardRef((({className:e,bsPrefix:t,as:a="p",...n},o)=>(t=(0,s.vE)(t,"card-text"),(0,i.jsx)(a,{ref:o,className:r()(e,t),...n}))));w.displayName="CardText";const S=w,_=(0,y.Z)("h5"),N=o.forwardRef((({className:e,bsPrefix:t,as:a=_,...n},o)=>(t=(0,s.vE)(t,"card-title"),(0,i.jsx)(a,{ref:o,className:r()(e,t),...n}))));N.displayName="CardTitle";const k=N,C=o.forwardRef((({bsPrefix:e,className:t,bg:a,text:n,border:o,body:c=!1,children:p,as:m="div",...u},d)=>{const h=(0,s.vE)(e,"card");return(0,i.jsx)(m,{ref:d,...u,className:r()(t,h,a&&`bg-${a}`,n&&`text-${n}`,o&&`border-${o}`),children:c?(0,i.jsx)(l.Z,{children:p}):p})}));C.displayName="Card";const Z=Object.assign(C,{Img:d,Title:k,Subtitle:x,Body:l.Z,Link:b,Text:S,Header:m.Z,Footer:p,ImgOverlay:f})},3052:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(67294),r=a(44036),o=a.n(r),s=a(76792),l=a(85893);const i=n.forwardRef((({className:e,bsPrefix:t,as:a="div",...n},r)=>(t=(0,s.vE)(t,"card-body"),(0,l.jsx)(a,{ref:r,className:o()(e,t),...n}))));i.displayName="CardBody";const c=i},88203:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(44036),r=a.n(n),o=a(67294),s=a(76792);const l=o.createContext(null);l.displayName="CardHeaderContext";const i=l;var c=a(85893);const p=o.forwardRef((({bsPrefix:e,className:t,as:a="div",...n},l)=>{const p=(0,s.vE)(e,"card-header"),m=(0,o.useMemo)((()=>({cardHeaderBsPrefix:p})),[p]);return(0,c.jsx)(i.Provider,{value:m,children:(0,c.jsx)(a,{ref:l,...n,className:r()(t,p)})})}));p.displayName="CardHeader";const m=p},52939:(e,t,a)=>{a.d(t,{Z:()=>g});var n=a(44036),r=a.n(n),o=a(73164),s=a(67294),l=a(52131),i=a(93825);const c=function(...e){return e.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!=typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(...a){e.apply(this,a),t.apply(this,a)}}),null)};var p=a(34509),m=a(9337),u=a(85893);const d={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function h(e,t){const a=t[`offset${e[0].toUpperCase()}${e.slice(1)}`],n=d[e];return a+parseInt((0,o.Z)(t,n[0]),10)+parseInt((0,o.Z)(t,n[1]),10)}const f={[l.Wj]:"collapse",[l.Ix]:"collapsing",[l.d0]:"collapsing",[l.cn]:"collapse show"},g=s.forwardRef((({onEnter:e,onEntering:t,onEntered:a,onExit:n,onExiting:o,className:l,children:d,dimension:g="height",in:b=!1,timeout:y=300,mountOnEnter:v=!1,unmountOnExit:E=!1,appear:x=!1,getDimensionValue:w=h,...S},_)=>{const N="function"==typeof g?g():g,k=(0,s.useMemo)((()=>c((e=>{e.style[N]="0"}),e)),[N,e]),C=(0,s.useMemo)((()=>c((e=>{const t=`scroll${N[0].toUpperCase()}${N.slice(1)}`;e.style[N]=`${e[t]}px`}),t)),[N,t]),Z=(0,s.useMemo)((()=>c((e=>{e.style[N]=null}),a)),[N,a]),j=(0,s.useMemo)((()=>c((e=>{e.style[N]=`${w(N,e)}px`,(0,p.Z)(e)}),n)),[n,w,N]),O=(0,s.useMemo)((()=>c((e=>{e.style[N]=null}),o)),[N,o]);return(0,u.jsx)(m.Z,{ref:_,addEndListener:i.Z,...S,"aria-expanded":S.role?b:null,onEnter:k,onEntering:C,onEntered:Z,onExit:j,onExiting:O,childRef:d.ref,in:b,timeout:y,mountOnEnter:v,unmountOnExit:E,appear:x,children:(e,t)=>s.cloneElement(d,{...t,className:r()(l,d.props.className,f[e],"width"===N&&"collapse-horizontal")})})}))},3047:(e,t,a)=>{a.d(t,{Z:()=>h});var n=a(44036),r=a.n(n),o=a(67294),s=a(76792),l=a(6558);const i=o.createContext(null);i.displayName="InputGroupContext";const c=i;var p=a(85893);const m=o.forwardRef((({className:e,bsPrefix:t,as:a="span",...n},o)=>(t=(0,s.vE)(t,"input-group-text"),(0,p.jsx)(a,{ref:o,className:r()(e,t),...n}))));m.displayName="InputGroupText";const u=m,d=o.forwardRef((({bsPrefix:e,size:t,hasValidation:a,className:n,as:l="div",...i},m)=>{e=(0,s.vE)(e,"input-group");const u=(0,o.useMemo)((()=>({})),[]);return(0,p.jsx)(c.Provider,{value:u,children:(0,p.jsx)(l,{ref:m,...i,className:r()(n,e,t&&`${e}-${t}`,a&&"has-validation")})})}));d.displayName="InputGroup";const h=Object.assign(d,{Text:u,Radio:e=>(0,p.jsx)(u,{children:(0,p.jsx)(l.Z,{type:"radio",...e})}),Checkbox:e=>(0,p.jsx)(u,{children:(0,p.jsx)(l.Z,{type:"checkbox",...e})})})},70953:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},61514:(e,t,a)=>{var n=a(22615),r=a(65773),o=a(85027),s=a(981),l=a(74684),i=a(70953),c=a(34327),p=a(54849),m=a(66100);r("search",(function(e,t,a){return[function(t){var a=l(this),r=s(t)?void 0:p(t,e);return r?n(r,t,a):new RegExp(t)[e](c(a))},function(e){var n=o(this),r=c(e),s=a(t,n,r);if(s.done)return s.value;var l=n.lastIndex;i(l,0)||(n.lastIndex=0);var p=m(n,r);return i(n.lastIndex,l)||(n.lastIndex=l),null===p?-1:p.index}]}))}},e=>{e.O(0,[9755,5669,6805,4987,8503,2178,345,5993,2599,9287],(()=>{return t=85990,e(e.s=t);var t}));e.O()}]);